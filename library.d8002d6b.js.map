{"mappings":"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","sources":["src/js/library/queue.js","src/js/library/getMovieStorage.js","src/js/library/watched.js","src/library.js"],"sourcesContent":["import Pagination from \"../common/pagination.js\";\nimport { preloaderShowLonger } from \"../common/loader.js\";\nimport { renderMovieList } from \"../common/renderMovieList.js\";\nimport { getMovieStorage } from \"../library/getMovieStorage.js\";\nimport refLocalStore from \"../localstorage/refLocalStore.js\";\nconst pagination = document.querySelector(\".pagination\");\nimport { handleEmptyPage } from \"./handleEmptyPage.js\";\n\nconst { MOVIE_LIST_KEY, QUEUE_LIST_KEY } = refLocalStore;\n\nconst paginationQueue = new Pagination();\nlet totalMoviePage = 0;\n\nexport function createQueueList(page = false) {\n\n\n  const movieList = JSON.parse(localStorage.getItem(MOVIE_LIST_KEY));\n  const listForRender = getMovieStorage(QUEUE_LIST_KEY, movieList);\n  const countElpage = 9;\n\n \n\n  handleEmptyPage(listForRender);\n\n  preloaderShowLonger();\n  const queryPage = page ? page : 1;\n  const partMovie = [];\n\n  for (let i = 1; i <= Math.ceil(listForRender.length / countElpage); i += 1) {\n    let end = countElpage * i;\n    let start = i > 1 ? countElpage * (i - 1) : 0;\n    if (countElpage * i > listForRender.length) {\n      end = listForRender.length;\n    }\n    partMovie[i] = listForRender.slice(start, end);\n  }\n\n  totalMoviePage = partMovie.length - 1;\n\n  paginationQueue.setCallback = createQueueList;\n\n  renderMovieList(partMovie[queryPage]);\n  \n  if(listForRender.length <countElpage) {\n    pagination.classList.add(\"is-hidden\");\n  }\n\n\n   \n  if (totalMoviePage > 1) {\n    paginationQueue.setCurrentPage = queryPage;\n    paginationQueue.setTotalPages = totalMoviePage;\n    paginationQueue.renderPagination();\n  }\n}\n","import { findMoviesInMovieList } from \"../library/findMoviesInMovieList.js\";\nimport refs from \"../refs.js\";\n\nexport function getMovieStorage(searchKey, movieList) {\n  const watchedList = JSON.parse(localStorage.getItem(searchKey));\n  const listForRender = findMoviesInMovieList(movieList, watchedList);\n  return listForRender;\n}\n","import Pagination from \"../common/pagination.js\";\nimport { preloaderShowLonger } from \"../common/loader.js\";\nimport { renderMovieList } from \"../common/renderMovieList.js\";\nimport { getMovieStorage } from \"../library/getMovieStorage.js\";\nimport refLocalStore from \"../localstorage/refLocalStore.js\";\nimport refs from \"../refs.js\";\n\nconst { MOVIE_LIST_KEY, WATCHED_LIST_KEY } = refLocalStore;\nconst paginationWatched = new Pagination();\nlet totalMoviePages = 0;\n\nexport function createWatchedList(page = false) {\n  const movieList = JSON.parse(localStorage.getItem(MOVIE_LIST_KEY));\n  const listForRender = getMovieStorage(WATCHED_LIST_KEY, movieList);\n  const countElpage = 9;\n\n  preloaderShowLonger();\n\n  if (!listForRender) {\n    refs.emptyPage.classList.add(\"visible\");\n    refs.paginationPage.style.display = \"none\";\n    return;\n  }\n\n  const queryPage = page ? page : 1;\n  const partMovie = [];\n\n  for (let i = 1; i <= Math.ceil(listForRender.length / countElpage); i += 1) {\n    let end = countElpage * i;\n    let start = i > 1 ? countElpage * (i - 1) : 0;\n    if (countElpage * i > listForRender.length) {\n      end = listForRender.length;\n    }\n    partMovie[i] = listForRender.slice(start, end);\n  }\n\n  totalMoviePages = partMovie.length - 1;\n  refs.containerBox.innerHTML = \"\";\n  renderMovieList(partMovie[queryPage]);\n\n  if (totalMoviePages > 1) {\n    paginationWatched.setCurrentPage = queryPage;\n    paginationWatched.setTotalPages = totalMoviePages;\n    paginationWatched.setCallback = createWatchedList;\n    paginationWatched.renderPagination();\n  }\n}\n","import { createQueueList } from \"./js/library/queue.js\";\nimport { createWatchedList } from \"./js/library/watched.js\";\nimport \"./js/modal/modal-film.js\";\nimport \"./js/common/js-modal-devops.js\";\nimport \"./js/firebase.js\";\nimport refs from \"./js/refs.js\";\n\n\n\ncreateWatchedList();\n\n\nrefs.containerBox.setAttribute(\"id\", \"watched\");\nconst watchedList = document.querySelector(\"#watched\");\n\n\nconst watched = document.querySelector(\".header_btn-watched\");\nconst queue = document.querySelector(\".header_btn-queue\");\n\nqueue.addEventListener(\"click\", onQueueClick);\nwatched.addEventListener(\"click\", onWatchedClick);\n\nfunction onQueueClick(e) {\n  refs.containerMovie.innerHTML = \"\";\n  refs.watched.classList.remove(\"current-btn\");\n  refs.queue.classList.add(\"current-btn\");\n  refs.queue.classList.remove(\"simple-btn\");\n  refs.watched.classList.add(\"simple-btn\");\n  createQueueList();\n\n  refs.containerBox.setAttribute(\"id\", \"queue\");\n  const watchedList = document.querySelector(\"#queue\");\n  \n}\n\nfunction onWatchedClick(e) {\n  refs.containerMovie.innerHTML = \"\";\n  refs.watched.classList.add(\"current-btn\");\n  refs.queue.classList.remove(\"current-btn\");\n  refs.queue.classList.add(\"simple-btn\");\n  refs.watched.classList.remove(\"simple-btn\");\n  createWatchedList();\n\n  refs.containerBox.setAttribute(\"id\", \"watched\");\n  const watchedList = document.querySelector(\"#watched\");\n\n}\n"],"names":["$htxAe","parcelRequire","$wfGNL","$b2822a2b42b6f639$export$c8f3e117b0336966","searchKey","movieList","watchedList","JSON","parse","localStorage","getItem","findMoviesInMovieList","$f750572b871ea0ea$var$pagination","document","querySelector","MOVIE_LIST_KEY","$f750572b871ea0ea$var$MOVIE_LIST_KEY","QUEUE_LIST_KEY","$f750572b871ea0ea$var$QUEUE_LIST_KEY","$kfmDg","default","$f750572b871ea0ea$var$paginationQueue","$f750572b871ea0ea$var$totalMoviePage","$f750572b871ea0ea$export$5d35a6e56804c792","page","listForRender","$dvdxF","handleEmptyPage","$7IIW8","preloaderShowLonger","queryPage","partMovie","i","Math","ceil","length","end","start","slice","setCallback","$1wfLx","renderMovieList","classList","add","setCurrentPage","setTotalPages","renderPagination","$1901232826cf781b$var$MOVIE_LIST_KEY","WATCHED_LIST_KEY","$1901232826cf781b$var$WATCHED_LIST_KEY","$1901232826cf781b$var$paginationWatched","$1901232826cf781b$var$totalMoviePages","$1901232826cf781b$export$c44e1a024d26cd65","$krGWQ","emptyPage","paginationPage","style","display","containerBox","innerHTML","setAttribute","$ce3726a01b8ab25a$var$watched","addEventListener","e","containerMovie","watched","remove","queue"],"version":3,"file":"library.d8002d6b.js.map"}