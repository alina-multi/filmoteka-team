{"mappings":"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","sources":["src/js/library/queue.js","src/js/library/getMovieStorage.js","src/js/library/watched.js","src/library.js"],"sourcesContent":["import Pagination from \"../common/pagination.js\";\nimport { preloaderShowLonger } from \"../common/loader.js\";\nimport { renderMovieList } from \"../common/renderMovieList.js\";\nimport { getMovieStorage } from \"../library/getMovieStorage.js\";\nimport refLocalStore from \"../localstorage/refLocalStore.js\";\nconst pagination = document.querySelector(\".pagination\");\n\nconst { MOVIE_LIST_KEY, QUEUE_LIST_KEY } = refLocalStore;\n\nconst paginationQueue = new Pagination();\nlet totalMoviePage = 0;\n\nexport function createQueueList(page = false) {\n   \n  const movieList = JSON.parse(localStorage.getItem(MOVIE_LIST_KEY));\n  const listForRender = getMovieStorage(QUEUE_LIST_KEY, movieList);\n  const countElpage = 9;\n\n  if (!listForRender) return;\n  preloaderShowLonger();\n  const queryPage = page ? page : 1;\n  const partMovie = [];\n\n  for (let i = 1; i <= Math.ceil(listForRender.length / countElpage); i += 1) {\n    let end = countElpage * i;\n    let start = i > 1 ? countElpage * (i - 1) : 0;\n    if (countElpage * i > listForRender.length) {\n      end = listForRender.length;\n    }\n    partMovie[i] = listForRender.slice(start, end);\n  }\n\n  totalMoviePage = partMovie.length - 1;\n\n  paginationQueue.setCallback = createQueueList;\n  renderMovieList(partMovie[queryPage]);\n  \n  if(listForRender.length <countElpage) {\n    pagination.classList.add(\"is-hidden\");\n  }\n\n\n   \n  if (totalMoviePage > 1) {\n    paginationQueue.setCurrentPage = queryPage;\n    paginationQueue.setTotalPages = totalMoviePage;\n    paginationQueue.renderPagination();\n  }\n}\n","import { findMoviesInMovieList } from \"../library/findMoviesInMovieList.js\";\nimport refs from \"../refs.js\";\n\nexport function getMovieStorage(searchKey, movieList) {\n  const watchedList = JSON.parse(localStorage.getItem(searchKey));\n  const listForRender = findMoviesInMovieList(movieList, watchedList);\n\n  if (!listForRender) {\n    refs.emptyPage.classList.add(\"visible\");\n    refs.paginationPage.style.display = \"none\";\n    return;\n  }\n  return listForRender;\n}\n","import Pagination from \"../common/pagination.js\";\nimport { preloaderShowLonger } from \"../common/loader.js\";\nimport { renderMovieList } from \"../common/renderMovieList.js\";\nimport { getMovieStorage } from \"../library/getMovieStorage.js\";\nimport refLocalStore from \"../localstorage/refLocalStore.js\";\n\nconst { MOVIE_LIST_KEY, WATCHED_LIST_KEY } = refLocalStore;\nconst paginationWatched = new Pagination();\nlet totalMoviePages = 0;\n\nexport function createWatchedList(page = false) {\n  const movieList = JSON.parse(localStorage.getItem(MOVIE_LIST_KEY));\n  const listForRender = getMovieStorage(WATCHED_LIST_KEY, movieList);\n  const countElpage = 9;\n\n  if (!listForRender) return;\n  preloaderShowLonger();\n  const queryPage = page ? page : 1;\n  const partMovie = [];\n\n  for (let i = 1; i <= Math.ceil(listForRender.length / countElpage); i += 1) {\n    let end = countElpage * i;\n    let start = i > 1 ? countElpage * (i - 1) : 0;\n    if (countElpage * i > listForRender.length) {\n      end = listForRender.length;\n    }\n    partMovie[i] = listForRender.slice(start, end);\n  }\n\n  totalMoviePages = partMovie.length - 1;\n\n  renderMovieList(partMovie[queryPage]);\n\n  if (totalMoviePages > 1) {\n    paginationWatched.setCurrentPage = queryPage;\n    paginationWatched.setTotalPages = totalMoviePages;\n    paginationWatched.setCallback = createWatchedList;\n    paginationWatched.renderPagination();\n  }\n}\n","import { createQueueList } from \"./js/library/queue.js\";\nimport { createWatchedList } from \"./js/library/watched.js\";\n\n// import \"./js/queue-list.js\";\nimport \"./js/modal/modal-film.js\";\nimport \"./js/common/js-modal-devops.js\";\nimport \"./js/firebase.js\";\nimport refs from \"./js/refs.js\";\n\n// WATCHED\n\ncreateWatchedList();\n\n\nrefs.containerBox.setAttribute(\"id\", \"watched\");\nconst watchedList = document.querySelector(\"#watched\");\n\n\nconst watched = document.querySelector(\".header_btn-watched\");\nconst queue = document.querySelector(\".header_btn-queue\");\n\nqueue.addEventListener(\"click\", onQueueClick);\nwatched.addEventListener(\"click\", onWatchedClick);\n\nfunction onQueueClick(e) {\n  refs.containerMovie.innerHTML = \"\";\n  refs.watched.classList.remove(\"current-btn\");\n  refs.queue.classList.add(\"current-btn\");\n  refs.queue.classList.remove(\"simple-btn\");\n  refs.watched.classList.add(\"simple-btn\");\n  createQueueList();\n\n  refs.containerBox.setAttribute(\"id\", \"queue\");\n  const watchedList = document.querySelector(\"#queue\");\n  \n}\n\nfunction onWatchedClick(e) {\n  refs.containerMovie.innerHTML = \"\";\n  refs.watched.classList.add(\"current-btn\");\n  refs.queue.classList.remove(\"current-btn\");\n  refs.queue.classList.add(\"simple-btn\");\n  refs.watched.classList.remove(\"simple-btn\");\n  createWatchedList();\n\n  refs.containerBox.setAttribute(\"id\", \"watched\");\n  const watchedList = document.querySelector(\"#watched\");\n\n}\n"],"names":["$6BfLV","parcelRequire","$kOzv5","$036df68754952881$export$c8f3e117b0336966","searchKey","movieList","watchedList","JSON","parse","localStorage","getItem","listForRender","findMoviesInMovieList","$4Nugj","default","emptyPage","classList","add","paginationPage","style","display","$55f39ce77ad6d8cb$var$pagination","document","querySelector","$55f39ce77ad6d8cb$var$MOVIE_LIST_KEY","$eDe9p","MOVIE_LIST_KEY","$55f39ce77ad6d8cb$var$QUEUE_LIST_KEY","QUEUE_LIST_KEY","$55f39ce77ad6d8cb$var$paginationQueue","$55f39ce77ad6d8cb$var$totalMoviePage","$55f39ce77ad6d8cb$export$5d35a6e56804c792","page","arguments","length","countElpage","$7Rwp9","preloaderShowLonger","queryPage","partMovie","i","Math","ceil","end","start","slice","setCallback","$143w0","renderMovieList","setCurrentPage","setTotalPages","renderPagination","$8b737afd8eca4829$var$MOVIE_LIST_KEY","$8b737afd8eca4829$var$WATCHED_LIST_KEY","WATCHED_LIST_KEY","$8b737afd8eca4829$var$paginationWatched","$8b737afd8eca4829$var$totalMoviePages","$8b737afd8eca4829$export$c44e1a024d26cd65","containerBox","setAttribute","$cecbdd76f2d3d4bd$var$watched","addEventListener","e","containerMovie","innerHTML","watched","remove","queue"],"version":3,"file":"library.2862af97.js.map"}