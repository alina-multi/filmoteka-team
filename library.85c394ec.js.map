{"mappings":"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","sources":["src/js/library/queue.js","src/js/library/getMovieStorage.js","src/js/library/watched.js","src/library.js"],"sourcesContent":["import Pagination from \"../common/pagination.js\";\nimport { preloaderShowLonger } from \"../common/loader.js\";\nimport { renderMovieList } from \"../common/renderMovieList.js\";\nimport { getMovieStorage } from \"../library/getMovieStorage.js\";\nimport refLocalStore from \"../localstorage/refLocalStore.js\";\nconst pagination = document.querySelector(\".pagination\");\n\nconst { MOVIE_LIST_KEY, QUEUE_LIST_KEY } = refLocalStore;\n\nconst paginationQueue = new Pagination();\nlet totalMoviePage = 0;\n\nexport function createQueueList(page = false) {\n   \n  const movieList = JSON.parse(localStorage.getItem(MOVIE_LIST_KEY));\n  const listForRender = getMovieStorage(QUEUE_LIST_KEY, movieList);\n  const countElpage = 9;\n\n  if (!listForRender) return;\n  preloaderShowLonger();\n  const queryPage = page ? page : 1;\n  const partMovie = [];\n\n  for (let i = 1; i <= Math.ceil(listForRender.length / countElpage); i += 1) {\n    let end = countElpage * i;\n    let start = i > 1 ? countElpage * (i - 1) : 0;\n    if (countElpage * i > listForRender.length) {\n      end = listForRender.length;\n    }\n    partMovie[i] = listForRender.slice(start, end);\n  }\n\n  totalMoviePage = partMovie.length - 1;\n\n  paginationQueue.setCallback = createQueueList;\n  renderMovieList(partMovie[queryPage]);\n  \n  if(listForRender.length <countElpage) {\n    pagination.classList.add(\"is-hidden\");\n  }\n\n\n   \n  if (totalMoviePage > 1) {\n    paginationQueue.setCurrentPage = queryPage;\n    paginationQueue.setTotalPages = totalMoviePage;\n    paginationQueue.renderPagination();\n  }\n}\n","import { findMoviesInMovieList } from \"../library/findMoviesInMovieList.js\";\nimport refs from \"../refs.js\";\n\nexport function getMovieStorage(searchKey, movieList) {\n  const watchedList = JSON.parse(localStorage.getItem(searchKey));\n  const listForRender = findMoviesInMovieList(movieList, watchedList);\n\n  if (!listForRender) {\n    refs.emptyPage.classList.add(\"visible\");\n    refs.paginationPage.style.display = \"none\";\n    return;\n  }\n  return listForRender;\n}\n","import Pagination from \"../common/pagination.js\";\nimport { preloaderShowLonger } from \"../common/loader.js\";\nimport { renderMovieList } from \"../common/renderMovieList.js\";\nimport { getMovieStorage } from \"../library/getMovieStorage.js\";\nimport refLocalStore from \"../localstorage/refLocalStore.js\";\n\nconst { MOVIE_LIST_KEY, WATCHED_LIST_KEY } = refLocalStore;\nconst paginationWatched = new Pagination();\nlet totalMoviePages = 0;\n\nexport function createWatchedList(page = false) {\n  const movieList = JSON.parse(localStorage.getItem(MOVIE_LIST_KEY));\n  const listForRender = getMovieStorage(WATCHED_LIST_KEY, movieList);\n  const countElpage = 9;\n\n  if (!listForRender) return;\n  preloaderShowLonger();\n  const queryPage = page ? page : 1;\n  const partMovie = [];\n\n  for (let i = 1; i <= Math.ceil(listForRender.length / countElpage); i += 1) {\n    let end = countElpage * i;\n    let start = i > 1 ? countElpage * (i - 1) : 0;\n    if (countElpage * i > listForRender.length) {\n      end = listForRender.length;\n    }\n    partMovie[i] = listForRender.slice(start, end);\n  }\n\n  totalMoviePages = partMovie.length - 1;\n\n  renderMovieList(partMovie[queryPage]);\n\n  if (totalMoviePages > 1) {\n    paginationWatched.setCurrentPage = queryPage;\n    paginationWatched.setTotalPages = totalMoviePages;\n    paginationWatched.setCallback = createWatchedList;\n    paginationWatched.renderPagination();\n  }\n}\n","import { createQueueList } from \"./js/library/queue.js\";\nimport { createWatchedList } from \"./js/library/watched.js\";\n\n// import \"./js/queue-list.js\";\nimport \"./js/modal/modal-film.js\";\nimport \"./js/common/js-modal-devops.js\";\nimport \"./js/firebase.js\";\nimport refs from \"./js/refs.js\";\n\n// WATCHED\n\ncreateWatchedList();\n\n\nrefs.containerBox.setAttribute(\"id\", \"watched\");\nconst watchedList = document.querySelector(\"#watched\");\n\n\nconst watched = document.querySelector(\".header_btn-watched\");\nconst queue = document.querySelector(\".header_btn-queue\");\n\nqueue.addEventListener(\"click\", onQueueClick);\nwatched.addEventListener(\"click\", onWatchedClick);\n\nfunction onQueueClick(e) {\n  refs.containerMovie.innerHTML = \"\";\n  refs.watched.classList.remove(\"current-btn\");\n  refs.queue.classList.add(\"current-btn\");\n  refs.queue.classList.remove(\"simple-btn\");\n  refs.watched.classList.add(\"simple-btn\");\n  createQueueList();\n\n  refs.containerBox.setAttribute(\"id\", \"queue\");\n  const watchedList = document.querySelector(\"#queue\");\n  \n}\n\nfunction onWatchedClick(e) {\n  refs.containerMovie.innerHTML = \"\";\n  refs.watched.classList.add(\"current-btn\");\n  refs.queue.classList.remove(\"current-btn\");\n  refs.queue.classList.add(\"simple-btn\");\n  refs.watched.classList.remove(\"simple-btn\");\n  createWatchedList();\n\n  refs.containerBox.setAttribute(\"id\", \"watched\");\n  const watchedList = document.querySelector(\"#watched\");\n\n}\n"],"names":["$htxAe","parcelRequire","$wfGNL","$b2822a2b42b6f639$export$c8f3e117b0336966","searchKey","movieList","watchedList","JSON","parse","localStorage","getItem","listForRender","findMoviesInMovieList","$krGWQ","default","emptyPage","classList","add","paginationPage","style","display","$f750572b871ea0ea$var$pagination","document","querySelector","MOVIE_LIST_KEY","$f750572b871ea0ea$var$MOVIE_LIST_KEY","QUEUE_LIST_KEY","$f750572b871ea0ea$var$QUEUE_LIST_KEY","$kfmDg","$f750572b871ea0ea$var$paginationQueue","$f750572b871ea0ea$var$totalMoviePage","$f750572b871ea0ea$export$5d35a6e56804c792","page","$7IIW8","preloaderShowLonger","queryPage","partMovie","i","Math","ceil","length","end","start","slice","setCallback","$1wfLx","renderMovieList","setCurrentPage","setTotalPages","renderPagination","$1901232826cf781b$var$MOVIE_LIST_KEY","WATCHED_LIST_KEY","$1901232826cf781b$var$WATCHED_LIST_KEY","$1901232826cf781b$var$paginationWatched","$1901232826cf781b$var$totalMoviePages","$1901232826cf781b$export$c44e1a024d26cd65","containerBox","setAttribute","$ce3726a01b8ab25a$var$watched","addEventListener","e","containerMovie","innerHTML","watched","remove","queue"],"version":3,"file":"library.85c394ec.js.map"}