{"mappings":"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","sources":["src/js/library/queue.js","src/js/library/getMovieStorage.js","src/js/library/watched.js","src/library.js"],"sourcesContent":["import Pagination from \"../common/pagination.js\";\nimport { preloaderShowLonger } from \"../common/loader.js\";\nimport { renderMovieList } from \"../common/renderMovieList.js\";\nimport { getMovieStorage } from \"../library/getMovieStorage.js\";\nimport refLocalStore from \"../localstorage/refLocalStore.js\";\nconst pagination = document.querySelector(\".pagination\");\nimport { handleEmptyPage } from \"./handleEmptyPage.js\";\n\nconst { MOVIE_LIST_KEY, QUEUE_LIST_KEY } = refLocalStore;\n\nconst paginationQueue = new Pagination();\nlet totalMoviePage = 0;\n\nexport function createQueueList(page = false) {\n\n\n  const movieList = JSON.parse(localStorage.getItem(MOVIE_LIST_KEY));\n  const listForRender = getMovieStorage(QUEUE_LIST_KEY, movieList);\n  const countElpage = 9;\n\n \n\n  handleEmptyPage(listForRender);\n\n  preloaderShowLonger();\n  const queryPage = page ? page : 1;\n  const partMovie = [];\n\n  for (let i = 1; i <= Math.ceil(listForRender.length / countElpage); i += 1) {\n    let end = countElpage * i;\n    let start = i > 1 ? countElpage * (i - 1) : 0;\n    if (countElpage * i > listForRender.length) {\n      end = listForRender.length;\n    }\n    partMovie[i] = listForRender.slice(start, end);\n  }\n\n  totalMoviePage = partMovie.length - 1;\n\n  paginationQueue.setCallback = createQueueList;\n\n  renderMovieList(partMovie[queryPage]);\n  \n  if(listForRender.length <countElpage) {\n    pagination.classList.add(\"is-hidden\");\n  }\n\n\n   \n  if (totalMoviePage > 1) {\n    paginationQueue.setCurrentPage = queryPage;\n    paginationQueue.setTotalPages = totalMoviePage;\n    paginationQueue.renderPagination();\n  }\n}\n","import { findMoviesInMovieList } from \"../library/findMoviesInMovieList.js\";\nimport refs from \"../refs.js\";\n\nexport function getMovieStorage(searchKey, movieList) {\n  const watchedList = JSON.parse(localStorage.getItem(searchKey));\n  const listForRender = findMoviesInMovieList(movieList, watchedList);\n  return listForRender;\n}\n","import Pagination from \"../common/pagination.js\";\nimport { preloaderShowLonger } from \"../common/loader.js\";\nimport { renderMovieList } from \"../common/renderMovieList.js\";\nimport { getMovieStorage } from \"../library/getMovieStorage.js\";\nimport refLocalStore from \"../localstorage/refLocalStore.js\";\nimport refs from \"../refs.js\";\n\nconst { MOVIE_LIST_KEY, WATCHED_LIST_KEY } = refLocalStore;\nconst paginationWatched = new Pagination();\nlet totalMoviePages = 0;\n\nexport function createWatchedList(page = false) {\n  const movieList = JSON.parse(localStorage.getItem(MOVIE_LIST_KEY));\n  const listForRender = getMovieStorage(WATCHED_LIST_KEY, movieList);\n  const countElpage = 9;\n\n  preloaderShowLonger();\n\n  if (!listForRender) {\n    refs.emptyPage.classList.add(\"visible\");\n    refs.paginationPage.style.display = \"none\";\n    return;\n  }\n\n  const queryPage = page ? page : 1;\n  const partMovie = [];\n\n  for (let i = 1; i <= Math.ceil(listForRender.length / countElpage); i += 1) {\n    let end = countElpage * i;\n    let start = i > 1 ? countElpage * (i - 1) : 0;\n    if (countElpage * i > listForRender.length) {\n      end = listForRender.length;\n    }\n    partMovie[i] = listForRender.slice(start, end);\n  }\n\n  totalMoviePages = partMovie.length - 1;\n  refs.containerBox.innerHTML = \"\";\n  renderMovieList(partMovie[queryPage]);\n\n  if (totalMoviePages > 1) {\n    paginationWatched.setCurrentPage = queryPage;\n    paginationWatched.setTotalPages = totalMoviePages;\n    paginationWatched.setCallback = createWatchedList;\n    paginationWatched.renderPagination();\n  }\n}\n","import { createQueueList } from \"./js/library/queue.js\";\nimport { createWatchedList } from \"./js/library/watched.js\";\nimport \"./js/modal/modal-film.js\";\nimport \"./js/common/js-modal-devops.js\";\nimport \"./js/firebase.js\";\nimport refs from \"./js/refs.js\";\n\n\n\ncreateWatchedList();\n\n\nrefs.containerBox.setAttribute(\"id\", \"watched\");\nconst watchedList = document.querySelector(\"#watched\");\n\n\nconst watched = document.querySelector(\".header_btn-watched\");\nconst queue = document.querySelector(\".header_btn-queue\");\n\nqueue.addEventListener(\"click\", onQueueClick);\nwatched.addEventListener(\"click\", onWatchedClick);\n\nfunction onQueueClick(e) {\n  refs.containerMovie.innerHTML = \"\";\n  refs.watched.classList.remove(\"current-btn\");\n  refs.queue.classList.add(\"current-btn\");\n  refs.queue.classList.remove(\"simple-btn\");\n  refs.watched.classList.add(\"simple-btn\");\n  createQueueList();\n\n  refs.containerBox.setAttribute(\"id\", \"queue\");\n  const watchedList = document.querySelector(\"#queue\");\n  \n}\n\nfunction onWatchedClick(e) {\n  refs.containerMovie.innerHTML = \"\";\n  refs.watched.classList.add(\"current-btn\");\n  refs.queue.classList.remove(\"current-btn\");\n  refs.queue.classList.add(\"simple-btn\");\n  refs.watched.classList.remove(\"simple-btn\");\n  createWatchedList();\n\n  refs.containerBox.setAttribute(\"id\", \"watched\");\n  const watchedList = document.querySelector(\"#watched\");\n\n}\n"],"names":["$6BfLV","parcelRequire","$kOzv5","$036df68754952881$export$c8f3e117b0336966","searchKey","movieList","watchedList","JSON","parse","localStorage","getItem","findMoviesInMovieList","$55f39ce77ad6d8cb$var$pagination","document","querySelector","$55f39ce77ad6d8cb$var$MOVIE_LIST_KEY","$eDe9p","default","MOVIE_LIST_KEY","$55f39ce77ad6d8cb$var$QUEUE_LIST_KEY","QUEUE_LIST_KEY","$55f39ce77ad6d8cb$var$paginationQueue","$55f39ce77ad6d8cb$var$totalMoviePage","$55f39ce77ad6d8cb$export$5d35a6e56804c792","page","arguments","length","listForRender","countElpage","$4v8o4","handleEmptyPage","$7Rwp9","preloaderShowLonger","queryPage","partMovie","i","Math","ceil","end","start","slice","setCallback","$143w0","renderMovieList","classList","add","setCurrentPage","setTotalPages","renderPagination","$8b737afd8eca4829$var$MOVIE_LIST_KEY","$8b737afd8eca4829$var$WATCHED_LIST_KEY","WATCHED_LIST_KEY","$8b737afd8eca4829$var$paginationWatched","$8b737afd8eca4829$var$totalMoviePages","$8b737afd8eca4829$export$c44e1a024d26cd65","$4Nugj","emptyPage","paginationPage","style","display","containerBox","innerHTML","setAttribute","$cecbdd76f2d3d4bd$var$watched","addEventListener","e","containerMovie","watched","remove","queue"],"version":3,"file":"library.21034fd6.js.map"}